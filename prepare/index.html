<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>cylinder images</title>
    <meta name="viewport" content="width=640, user-scalable=no, target-densitydpi=device-dpi">
    <link type="text/css" href="scripts/cylinder.css" rel="stylesheet" />
    <script type="text/javascript" src="scripts/jquery.min.js"></script>
    <script type="text/javascript">
    	function cylinder_image() {
    		var abs_offset_x = 0, abs_offset_y = 0;
    		var img_node = null;
    		var img_width = 0, img_height = 0;

    		this.init = function(img_name, w, h) {
    			var image = $('<img src="images/'+img_name+'.jpg" width="'+w+'" height="'+h+'"/>');
    			img_node = $('<div class="cyn_image"></div>').append(image);
    			img_width = w;
    			img_height = h;
    			return img_node;
    		}

    		this.moveBy = function(offset_x, offset_y) {
    			abs_offset_x += offset_x;
    			abs_offset_y += offset_y;
    			img_node.css('left', abs_offset_x + 'px');
    		}

    		this.getOffset = function() {
    			return offset;
    		}
    	}

    	function cylinder_vew() {
    		var view_anchorx = 0, view_anchory = 0;
    		var cyn_images = [];

    		this.init = function(containerID, img_name, w, h) {
	    		for (var i = 1; i >= 0; i--) {
	    			var ci = new cylinder_image;
	    			var cn = ci.init(img_name, w, h);
	    			ci.moveBy(-i*w);
					cyn_images.push(ci);
					cn.appendTo('#'+containerID);
	    		}
    		}

    		this.moveViewBy = function(diff_x, diff_y) {
    			view_anchorx += diff_x;
    			view_anchory += diff_y;
    			for (var i = cyn_images.length - 1; i >= 0; i--) {
    				cyn_images[i].moveBy(-diff_x, -diff_y);
    			};
    		}
    	}

    	var cv = new cylinder_vew;
    	$(document).ready(function() {
    		cv.init('container', 'cyn', 3195, 900);
    	});    
    </script>
</head>
<body>
	<div id="container"></div>
</body>
</html>